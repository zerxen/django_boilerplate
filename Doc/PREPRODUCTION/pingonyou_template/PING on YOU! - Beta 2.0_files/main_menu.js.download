function close_all_rollouts()
{
  var rollouts = document.getElementsByClassName("rollout_menu");
  for(var i = 0; i < rollouts.length; i++)
  {
    //alert("close_all " + rollouts.item(i).id);
    var rollout = rollouts.item(i).id;
    $('#'+rollout).css("display","none");  
  }   
  
  rollouts = document.getElementsByClassName("quick-rollout_menu");
  for(var i = 0; i < rollouts.length; i++)
  {
    //alert("close_all " + rollouts.item(i).id);
    var rollout = rollouts.item(i).id;
    $('#'+rollout).css("display","none");  
  }      
  
   
};

// holds which button is pressed right now
var selected_function_set = "none"; 

// function that closes all roll-out menus and opens the one specified
function menu_button_function(parameter_this)
{
    if (selected_function_set == parameter_this.id){
      // do nothing
    }
    else
    {
      selected_function_set = parameter_this.id;
      close_all_rollouts(); 
      color_all_buttons_active();
      color_button_activated(parameter_this.id);
      $('#'+parameter_this.id+'-rollout_menu').slideDown("fast");
       
    }
}

// function that colors the current pressed button grey, and inactive ones bue
function color_all_buttons_active()
{
  var buttons = document.getElementsByClassName("active-button");
  for(var i = 0; i < buttons.length; i++)
  {
    //alert("color all buttons: " + buttons.item(i).id);
    var button = buttons.item(i).id;     
    $('#'+button).css("background","");  
    $('#'+button).css("background-image:","");  
  }   
  
  buttons = document.getElementsByClassName("quick-active-button");
  for(var i = 0; i < buttons.length; i++)
  {
    //alert("color all buttons: " + buttons.item(i).id);
    var button = buttons.item(i).id;     
    $('#'+button).css("background","");  
    $('#'+button).css("background-image:","");     
  }       
    
};

function color_button_activated(passed_id){
    if (passed_id == "quick")
    {
            $("#"+passed_id).css("background","#3d3c3d");
            $("#"+passed_id).css("background-image:","-webkit-linear-gradient(top, #3b3b3b, #3d3c3d);");
            $("#"+passed_id).css("background-image:","-moz-linear-gradient(top, #3b3b3b, #3d3c3d);");
            $("#"+passed_id).css("background-image:","-ms-linear-gradient(top, #3b3b3b, #3d3c3d);");
            $("#"+passed_id).css("background-image:","-o-linear-gradient(top, #3b3b3b, #3d3c3d);");
            $("#"+passed_id).css("background-image:","linear-gradient(to bottom, #3b3b3b, #3d3c3d);");         
    }
    else
    {
            $("#"+passed_id).css("background","#8c8c8c");
            $("#"+passed_id).css("background-image:","-webkit-linear-gradient(top, #3b3b3b, #8c8c8c);");
            $("#"+passed_id).css("background-image:","-moz-linear-gradient(top, #3b3b3b, #8c8c8c);");
            $("#"+passed_id).css("background-image:","-ms-linear-gradient(top, #3b3b3b, #8c8c8c);");
            $("#"+passed_id).css("background-image:","-o-linear-gradient(top, #3b3b3b, #8c8c8c);");
            $("#"+passed_id).css("background-image:","linear-gradient(to bottom, #3b3b3b, #8c8c8c);");              
    }

}


/*With jQuery Cookie*/
$(document).ready(function(){
	
  // hide all except default on start
  var slides = document.getElementsByClassName("active-button");
  for(var i = 0; i < slides.length; i++)
  {
    //alert(slides.item(i).id);
    var section = slides.item(i).id;
    $('#'+section+'-rollout_menu').css("display","none");  
  }  

  
  $(".quick-active-button").click(function(event){
      event.preventDefault();
      menu_button_function(this);
  }); 
  
  $(".active-button").click(function(event){
      event.preventDefault();
      menu_button_function(this);
  }); 

  

    
    // click event na button           
    $(".active-button").click(function(event){
      event.preventDefault();
      
      if (this.id == selected_function_set){
        // click na otvoreny list -> naspat na default = quick
        
      }
      else
      {
        // nove otvorenie inej karty
        selected_function_set = this.id;
        close_all_rollouts();
        $('#'+this.id+'-rollout_menu').slideDown("fast");
      }
      
    	if (this.id == 'target') {
          // Ak znova zmackol button, treba znegovat a vycistit do default
          if (selected_function_set == 'target'){
            // Reset other button CSS after changes
            $("#target").css("background","");  
            $("#target").css("background-image:","");       
            //$("#target_functions").css("display","none");
            $("#target_functions").slideUp("fast");   
            
            selected_function_set = 'none';          
          
          } else {
          
            selected_function_set = 'target';
          
          	//$("#target_functions").attr('colspan',2);  
            $("#target_functions").slideDown("fast"); //Slide Down Effect 
            
            // Make the selected button the same color as rolled background
            $("#target").css("background","#8c8c8c");
            $("#target").css("background-image:","-webkit-linear-gradient(top, #3b3b3b, #8c8c8c);");
            $("#target").css("background-image:","-moz-linear-gradient(top, #3b3b3b, #8c8c8c);");
            $("#target").css("background-image:","-ms-linear-gradient(top, #3b3b3b, #8c8c8c);");
            $("#target").css("background-image:","-o-linear-gradient(top, #3b3b3b, #8c8c8c);");
            $("#target").css("background-image:","linear-gradient(to bottom, #3b3b3b, #8c8c8c);");
            
            // Reset other button CSS after changes
            $("#client").css("background","");  
            $("#client").css("background-image:","");              
                     
            //$("#client_functions").slideUp("fast"); //Slide Down Effect  
            $("#client_functions").css("display","none");
        }    
          
                        
      } else if (this.id == 'client') {
        if (selected_function_set == 'client'){
        
            // Reset other button CSS after changes
            $("#client").css("background","");  
            $("#client").css("background-image:","");       
            //$("#target_functions").css("display","none");
            $("#client_functions").slideUp("fast");   
            
            selected_function_set = 'none';          
        
        } else {
        
          selected_function_set = 'client';
        
        	$("#client_functions").attr('colspan',2); 
          $("#client_functions").slideDown("fast"); //Slide Down Effect 
          //$("#target_functions").slideUp("fast"); //Slide Down Effect
          
          // Make the selected button the same color as rolled background
          $("#client").css("background","#8c8c8c");
          $("#client").css("background-image:","-webkit-linear-gradient(top, #3b3b3b, #8c8c8c);");
          $("#client").css("background-image:","-moz-linear-gradient(top, #3b3b3b, #8c8c8c);");
          $("#client").css("background-image:","-ms-linear-gradient(top, #3b3b3b, #8c8c8c);");
          $("#client").css("background-image:","-o-linear-gradient(top, #3b3b3b, #8c8c8c);");
          $("#client").css("background-image:","linear-gradient(to bottom, #3b3b3b, #8c8c8c);"); 
          
          // Reset other button CSS after changes
          $("#target").css("background","");  
          $("#target").css("background-image:","");     
          
          $("#target_functions").css("display","none");
        } 
          
          
             
      }
    });
  
  // Default to see PINGONYOU  
  color_button_activated('you');
  $('#you-rollout_menu').slideDown("slow");
         
               
});